<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Data Storage</title>
	<script>
		function comenzar(){
			var boton=document.getElementById("grabar");
			boton.addEventListener("click",itemNuevo,false);
		}
		function itemNuevo(){
			var clave=document.getElementById("clave").value;
			var valor=document.getElementById("valor").value;
			sessionStorage.setItem(clave,valor);
			// sessionStorage[clave]=valor;
			leer_mostrar(clave);

			document.getElementById("clave").value="";
			document.getElementById("valor").value="";
		}
		function leer_mostrar(clave){
			var zonadatos=document.getElementById("zonadatos");
			zonadatos.innerHTML='<div><button onclick="eliminartodo()">Eliminar todo</button></div>';
			// var elvalor=sessionStorage.getItem(clave);
			for (var i=0; i<sessionStorage.length; i++) {
				var clave=sessionStorage.key(i);
				var elvalor=sessionStorage.getItem(clave);
				zonadatos.innerHTML +='<div><b>NoItem - '+i+'</b> Clave: '+clave+' -||- '+'Valor: '+elvalor+'<br><button onclick="eliminarItem(\''+clave+'\')">Eliminar</button></div>';	
			}
			
		}
		function eliminartodo(){
			if(confirm("Estas seguro de eliminar todo?")){
				sessionStorage.clear();
				leer_mostrar();
			}
		}
		function eliminarItem(clave){
			if(confirm("Estas segurp de eliminar este item?")){
				sessionStorage.removeItem(clave);
				leer_mostrar();
			}
		}

		window.addEventListener("load",comenzar,false);
	</script>
	<style>
		#contenedor{
			width: 50%;
			margin: auto;
			padding-top: 50px;
		}
		#zonaformulario{
			float: left;
			padding: 20px;
			border: 1px solid #039;
			margin-left: 150px;
		}
		#zonadatos{
			float: right;
			width: 300px;
			margin-left: 20px;
			padding: 20px;
			border: 1px solid #f00;
		}
		#clave,#valor{
			width: 180px;
		}
		#zonadatos div{
			padding: 15px;
			border-bottom: 3px solid #00f;
		}
	</style>
	<link rel="stylesheet" href="">
</head>
<body>
	<div id="contenedor">
		<section id="zonaformulario">
			<form name="miformulario">
				<p>Clave:<br><input type="text" id="clave"></p>
				<p>Valor:<br> <textarea id="valor"></textarea></p>
				<p><input type="button" id="grabar" value="Grabar"></p>
			</form>
		</section>
		<section id="zonadatos">
			A la espera de datos
		</section>
	</div>
</body>
</html>